!function(){"use strict";const n=(n,o)=>({x:n.x+o.x,y:n.y+o.y}),o=({x:n,y:o})=>({x:-n,y:-o}),e=n=>({x:n.x/2,y:n.y/2}),t=n=>({x:Math.random()*n.x,y:Math.random()*n.y}),i=(n,o)=>({location:n,color:o}),r=(n,o,e)=>{for(var t=((n,o)=>[i(n,o)])(o,e),r=0;r<n;r++)t=c("right",t);return t},a={up:{x:0,y:-5.2},down:{x:0,y:5.2},left:{x:-5.2,y:0},right:{x:5.2,y:0}},s=(o,e)=>[((o,e)=>Object.assign(Object.assign({},o),{location:n(o.location,a[e])}))(e[0],o),...e.slice(0,e.length-1)],c=(e,t)=>{const i={location:n(t[t.length-1].location,o(a[e])),color:t[t.length-1].color};return[...t,i]},l=n=>((n,o)=>{const e=[];for(var i=0;i<n;i++)e.push(t(o));return e})(30,n).map((n=>i(n,"red"))),d=()=>{const n={x:window.innerWidth,y:window.innerHeight};return{bound:n,snake:r(5,e(n),"blue"),food:l(n),playerDirection:"down"}},y=n=>{var o=Object.assign(Object.assign({},n),{snake:s(n.playerDirection,n.snake)}),e=u(o);return n.food.length<15?Object.assign(Object.assign({},e),{food:n.food.concat(l(n.bound))}):e},u=n=>{for(var o,t,i,a,s=[],l=n.snake,d=0;d<n.food.length;d++)o=n.snake,t=n.food[d],i=void 0,a=void 0,i=o[0].location,a=t.location,i.x<a.x+20&&i.x+20>a.x&&i.y<a.y+20&&i.y+20>a.y?l=c(n.playerDirection,n.snake):s.push(n.food[d]);return(n.snake[0].location.x>n.bound.x||n.snake[0].location.x<0)&&(l=r(5,e(n.bound),"blue")),(n.snake[0].location.y>n.bound.y||n.snake[0].location.y<0)&&(l=r(5,e(n.bound),"blue")),Object.assign(Object.assign({},n),{snake:l,food:s})},w=(n,o)=>{n.map((n=>((n,o)=>((n,o)=>{o.fillStyle=n.color,o.fillRect(n.location.x,n.location.y,n.size,n.size)})(Object.assign(Object.assign({},n),{size:20}),o))(n,o)))},g=(n,o)=>{(n=>{n.fillStyle="white",n.fillRect(0,0,window.innerWidth,window.innerHeight)})(o),w(n.snake,o),w(n.food,o)},h={ArrowUp:"up",ArrowDown:"down",ArrowRight:"right",ArrowLeft:"left"},f={up:"down",down:"up",left:"right",right:"left"},x=({state:n,screen:o})=>{g(n,o);document.addEventListener("keydown",(({key:o})=>{const e=h[o];e&&e!=f[n.playerDirection]&&(n.playerDirection=e)})),setTimeout((function(){window.requestAnimationFrame((e=>{x({state:y(n),screen:o})}))}),1e3/60)};var b;b={screen:(()=>{const n=document.createElement("canvas");n.height=window.innerHeight,n.width=window.innerWidth;const o=n.getContext("2d");return document.body.append(n),o})(),state:d()},x(b)}();