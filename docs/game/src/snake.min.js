!function(){"use strict";const o=(o,n)=>({x:o.x+n.x,y:o.y+n.y}),n=({x:o,y:n})=>({x:-o,y:-n}),t=o=>({x:Math.random()*o.x,y:Math.random()*o.y}),e=(o,n)=>({location:o,color:n}),i={up:{x:0,y:-1},down:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0}},r=(t,e)=>{const r={location:o(e[e.length-1].location,n(i[t])),color:e[e.length-1].color};return[...e,r]},l=(o,n)=>{o.map((o=>((o,n)=>((o,n)=>{n.fillStyle=o.color,n.fillRect(o.location.x,o.location.y,o.size,o.size)})(Object.assign(Object.assign({},o),{size:20}),n))(o,n)))},c=(o,n)=>{(o=>{o.fillStyle="white",o.fillRect(0,0,window.innerWidth,window.innerHeight)})(n),l(o.food,n),l(o.snake,n)},a={x:window.innerWidth,y:window.innerHeight},s=(o,n)=>{const t=d(o);c(t,n),window.requestAnimationFrame((o=>{s(t,n)}))},d=o=>{if(((o,n)=>{for(let i=0;i<n.length;i++)if(t=o[0].location,e=n[i].location,t.x<e.x+20&&t.x+20>e.x&&t.y<e.y+20&&t.y+20>e.y)return!0;var t,e;return!1})(o.snake,o.food))return{snake:y(r("up",o.snake)),food:o.food};return{snake:y(o.snake),food:o.food}},y=n=>((n,t)=>{if(1==t.length)return[{location:o(t[0].location,i[n]),color:t[0].color}];const e=t[0],r=t.slice(1,t.length),l={location:o(e.location,i[n]),color:e.color},c=[l,e,...r.slice(0,r.length-1)];return a=l.location,s=r[0].location,a.x===s.x&&a.y===s.y?t:c;var a,s})("down",n),x=()=>((o,n)=>{const e=[];for(var i=0;i<o;i++)e.push(t(n));return e})(50,a).map((o=>e(o,"red")));var h,w;(o=>{const n=(()=>{const o=document.createElement("canvas");o.height=window.innerHeight,o.width=window.innerWidth;const n=o.getContext("2d");return document.body.append(o),n})();c(o,n),window.requestAnimationFrame((()=>{s(o,n)}))})({snake:(h={x:(w=a).x/2,y:w.y/2},[e(h,"blue")]),food:x()})}();